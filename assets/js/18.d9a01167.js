(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{373:function(t,a){t.exports="data:image/png;base64,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"},433:function(t,a,s){"use strict";s.r(a);var n=s(19),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"spring-boot-项目打包-shell-脚本部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#spring-boot-项目打包-shell-脚本部署"}},[t._v("#")]),t._v(" Spring Boot 项目打包 + Shell 脚本部署")]),t._v(" "),n("h2",{attrs:{id:"profiles指定不同环境的配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#profiles指定不同环境的配置"}},[t._v("#")]),t._v(" profiles指定不同环境的配置")]),t._v(" "),n("p",[t._v("通常一套程序分为了很多个部署环境：开发，测试，uat，线上 等，我们要想对这些环境区分配置文件，可以通过两种方式：")]),t._v(" "),n("ul",[n("li",[t._v("通过application.yml中编码指定 profile.active=uat 方式指定")]),t._v(" "),n("li",[t._v("通过mvn中profiles来区分不同环境对应的配置文件夹，人工可以手动在idea勾选生成不同环境的包(推荐)")])]),t._v(" "),n("p",[t._v("这里我们要讲的是第二种，首先在mvn中配置如下内容：")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[t._v("1 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n 2 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n 3 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("node"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n 4 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("properties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n 5 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--传递给脚本的参数值--\x3e")]),t._v("\n 6 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activeProfile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("node"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activeProfile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n 7 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("package-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${scripts_packageName}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("package-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n 8 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("boot-main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${scripts_bootMain}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("boot-main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n 9 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("properties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n10 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n11 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activeByDefault")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activeByDefault")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n12 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n13 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n14 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n15 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("node1"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n16 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("properties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n17 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activeProfile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("node1"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activeProfile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n18 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("package-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${scripts_packageName}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("package-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n19 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("boot-main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${scripts_bootMain}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("boot-main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n20 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("properties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n21 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n22 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n23 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("node2"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n24 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("properties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n25 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activeProfile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("node2"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activeProfile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n26 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("package-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${scripts_packageName}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("package-name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n27 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("boot-main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${scripts_bootMain}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("boot-main")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n28 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("properties")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n29 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n30 "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profiles")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("节点粗解：\nid：用来指定不同环境配置文件所在的目录.")]),t._v(" "),n("p",[t._v("properties：该节点中的节点是可作为参数传递给其他配置文件，如我这里的package-name节点值就可以在另外的assembly.xml或者shell脚本文件中通过${package-name}获取到.")]),t._v(" "),n("p",[t._v("activeByDefault：指定默认环境配置文件夹。")]),t._v(" "),n("h2",{attrs:{id:"maven-assembly-plugin打发布压缩包"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#maven-assembly-plugin打发布压缩包"}},[t._v("#")]),t._v(" maven-assembly-plugin打发布压缩包")]),t._v(" "),n("p",[t._v("对于springboot程序打包，可以分为jar和war，这里是jar包；有场景是咋们配置文件或者第三方等依赖包不想放到工程jar中，并且把这些文件压缩成一个zip包，方便上传到linux；此时通过maven-assembly-plugin和maven-jar-plugin就可以做到，mvn的配置如：")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.maven.plugins"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("maven-jar-plugin"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.6"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("archive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("addMavenDescriptor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("addMavenDescriptor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("manifest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("addClasspath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("addClasspath")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("classpathPrefix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("lib/"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("classpathPrefix")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("mainClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${scripts_bootMain}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("mainClass")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("manifest")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("archive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--打包排除项--\x3e")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("excludes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("exclude")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("**/*.yml"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("exclude")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("exclude")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("**/*.properties"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("exclude")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("exclude")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("**/*.xml"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("exclude")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("exclude")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("**/*.sh"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("exclude")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("excludes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("executions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("execution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("make-a-jar"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("phase")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("compile"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("phase")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("goals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("goal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("jar"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("goal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("goals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("execution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("executions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("plugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.apache.maven.plugins"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("maven-assembly-plugin"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.4"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- The configuration of the plugin --\x3e")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Specifies the configuration file of the sembly plugin --\x3e")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("descriptors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("descriptor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.basedir}/src/main/assembly/sembly.xml"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("descriptor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("descriptors")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("configuration")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("executions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("execution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("make-assembly"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("phase")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("package"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("phase")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("goals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("goal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("single"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("goal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("goals")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("execution")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("executions")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("plugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("值得注意的地方如下几点：")]),t._v(" "),n("ul",[n("li",[t._v("mainClass节点：用来指定启动main函数入口类路径，如这里的：com.sm.EurekaServerApplication")]),t._v(" "),n("li",[t._v("excludes节点：排除主jar包中配置等一些列后缀文件，因为我们要包这些配置文件放到主包外面")]),t._v(" "),n("li",[t._v("descriptor节点：用来指定assembly插件对应的assembly.xml配置文件")])]),t._v(" "),n("p",[t._v("有了上面mvn配置，我们还需要assembly.xml的配置，这里提取了结合shell脚本发布程序的配置：")]),t._v(" "),n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("assembly")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("xmlns")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://maven.apache.org/ASSEMBLY/2.0.0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n          "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[n("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xsi:")]),t._v("schemaLocation")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd\nhttp://maven.apache.org/ASSEMBLY/2.0.0 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${activeProfile}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--打包成一个用于发布的zip文件--\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("formats")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("zip"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("format")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("formats")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--true：zip中生成一级目录(此处屏蔽，配合脚本需要profiles后缀)--\x3e")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("includeBaseDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("includeBaseDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencySets")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependencySet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--打包进zip文件的lib目录--\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("useProjectArtifact")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("useProjectArtifact")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("outputDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${package-name}-${activeProfile}/lib"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("outputDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("unpack")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("unpack")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencySet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependencySets")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("fileSets")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 配置文件打包进zip文件的conf目录 --\x3e")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("fileSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("directory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.basedir}/src/main/profiles/${activeProfile}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("directory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("outputDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${package-name}-${activeProfile}/conf"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("outputDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("include")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("**/*"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("include")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--<include>*.xml</include>--\x3e")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--<include>*.properties</include>--\x3e")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--<include>*.yml</include>--\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("fileSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--启动脚本打包进zip文件--\x3e")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("fileSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("directory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.basedir}/src/main/scripts"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("directory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("outputDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("outputDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("include")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("**/*"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("include")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 文件文件权限为777 --\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("fileMode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("777"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("fileMode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 目录权限为777 --\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("directoryMode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("777"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("directoryMode")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!--脚本中参数变量为pom中的值 关键--\x3e")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("filtered")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("filtered")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("fileSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 项目编译出来的jar打包进zip文件 --\x3e")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("fileSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("directory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${project.build.directory}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("directory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("outputDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("${package-name}-${activeProfile}/"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("outputDirectory")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("include")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("*.jar"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("include")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("includes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("fileSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("fileSets")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("assembly")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("重点节点介绍：")]),t._v(" "),n("ul",[n("li",[t._v("formats节点：把配置文件和jar包等压缩成什么文件格式，这里可以有：zip，tar等")]),t._v(" "),n("li",[t._v("fileMode节点：指定scripts目录下脚本文件(这里是：shenniu_publish.sh)在linux上文件权限为777")]),t._v(" "),n("li",[t._v("filtered节点：脚本中参数变量为pom的profiles中properties的值(该配置，是把mvn中属性值映射生成到sh文件中，如：${package-name})")])]),t._v(" "),n("p",[t._v("完成上面配置后，此时我们可以通过idea上勾选切换不同环境来打zip包，如图：\n"),n("img",{attrs:{src:s(373),alt:""}})]),t._v(" "),n("h2",{attrs:{id:"shenniu-publish-sh程序启动工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#shenniu-publish-sh程序启动工具"}},[t._v("#")]),t._v(" shenniu_publish.sh程序启动工具")]),t._v(" "),n("p",[t._v("上面步骤完成了zip格式的发布包，我们再分享下启动程序的shell脚本，该脚本具有的功能如：")]),t._v(" "),n("ol",[n("li",[t._v("解压zip+启动jar包")]),t._v(" "),n("li",[t._v("启动jar包")]),t._v(" "),n("li",[t._v("停止对应jar运行")]),t._v(" "),n("li",[t._v("重启jar程序\n目前该shell中封装了两种启动jar命令的方式：")])]),t._v(" "),n("ul",[n("li",[t._v("java -cp")]),t._v(" "),n("li",[t._v("java -jar")])]),t._v(" "),n("p",[t._v("来看全部的shell代码：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/usr/bin/env bash")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#可变参数变量")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("languageType")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"javac"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#支持 java,javac,netcore 发布")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#参数值由pom文件传递")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("baseZipName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${package-name}")]),t._v("-"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${activeProfile}")]),t._v('"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#压缩包名称 publish-test.zip的publish")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("packageName")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${package-name}")]),t._v('"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#命令启动包名 xx.jar的xx")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("mainclass")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${boot-main}")]),t._v('"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#java -cp启动时，指定main入口类;命令：java -cp conf;lib\\*.jar;${packageName}.jar ${mainclass}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#例子")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# baseZipName="publish-test" #压缩包名称 publish-test.zip的publish')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# packageName="publish" #命令启动包名 publish.jar的xx')]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#固定变量")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("basePath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" `dirname $0`/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("pwd")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("baseZipPath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${basePath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipName}")]),t._v('.zip"')]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#压缩包路径")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("baseDirPath")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${basePath}")]),t._v('"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#解压部署磁盘路径")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("pid")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#进程pid")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#解压")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("shenniu_unzip")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"解压---------------------------------------------"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"压缩包路径：'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipPath}")]),t._v('"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),t._v(" $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("baseZipPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"不存在压缩包：'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipPath}")]),t._v('"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"解压磁盘路径：'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseDirPath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipName}")]),t._v('"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开始解压..."')]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#解压命令")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("unzip")]),t._v(" -od "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseDirPath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipName}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipPath}")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置执行权限")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseDirPath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipName}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${packageName}")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"解压完成。"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#检测pid")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("getPid")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"检测状态---------------------------------------------"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("pid")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -ef "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -n $"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("packageName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" -v "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$2")]),t._v("}'")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${pid}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"运行pid：'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${pid}")]),t._v('"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"未运行"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#启动程序")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("start")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#启动前，先停止之前的")]),t._v("\n    stop\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${pid}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"停止程序失败，无法启动"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"启动程序---------------------------------------------"')]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#选择语言类型")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("read")]),t._v(" -p "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"输入程序类型(java,javac,netcore)，下一步按回车键(默认：'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${languageType}")]),t._v(')："')]),t._v(" read_languageType\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${read_languageType}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("languageType")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${read_languageType}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"选择程序类型：'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${languageType}")]),t._v('"')]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#进入运行包目录")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseDirPath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipName}")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#分类启动")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${languageType}")]),t._v('"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"javac"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${mainclass}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" java -cp conf:lib"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("*.jar:"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${packageName}")]),t._v(".jar "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${mainclass}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseDirPath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${packageName}")]),t._v(".out "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n               "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#nohup java -cp conf:lib\\*.jar:${packageName}.jar ${mainclass} >/dev/null 2>&1 &")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${languageType}")]),t._v('"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"java"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" java -jar "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseDirPath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipName}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${packageName}")]),t._v(".jar "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# java -jar ${baseDirPath}/${baseZipName}/${packageName}.jar")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${languageType}")]),t._v('"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"netcore"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#nohup dotnet run ${baseDirPath}/${baseZipName}/${packageName} >/dev/null 2>&1 &")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseDirPath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseZipName}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${packageName}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#查询是否有启动进程")]),t._v("\n        getPid\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${pid}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"已启动"')]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#nohup日志")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("tail")]),t._v(" -n "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v(" -f "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${baseDirPath}")]),t._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${packageName}")]),t._v(".out\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"启动失败"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#停止程序")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("stop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    getPid\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${pid}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"停止程序---------------------------------------------"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" -9 "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${pid}")]),t._v("\n\n        getPid\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${pid}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#stop")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"停止失败"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"停止成功"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#启动时带参数，根据参数执行")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("}")]),t._v(" -ge "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${1}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"start"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            start\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"restart"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            start\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stop"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            stop\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unzip"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#执行解压")]),t._v("\n            shenniu_unzip\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#执行启动")]),t._v("\n            start\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        *"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),n("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${1}")]),t._v('无任何操作"')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\n    command如下命令：\n    unzip：解压并启动\n    start：启动\n    stop：停止进程\n    restart：重启\n\n    示例命令如：./shenniu_publish start\n    "')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])])]),n("p",[t._v("正如上面小节说的，shell中的参数 package-name，activeProfile，boot-main 都是由mvn中profiles的properties中提供，是可变的参数，脚本代码本身不需要人工去修改，只需要变的是mvn的参数即可；其实在我们生成zip包的时候，shell中的参数就被替换了，可以看zip中shell文件内容如：\n图片\n把生成的zip上传到linux上，通过命令解压：\n1 unzip -od eureka-server-0.0.1-node eureka-server-0.0.1-node.zip\n其实shell脚本中包含有解压命令，但是我在打包时放在了zip中，所以只能通过手动解压了，当然可以调整；此时进入加压目录如此：\n图片\n注：这里第一次执行./shenniu_publish.sh脚本时候，提示了错误信息；是由于我是在windows上编辑的这个脚本，其空格等和linux上不一样，所以运行会有问题，要解决可以使用vim命令在linux把该文件转成linux格式，如下命令：\n1 vim shenniu_publish.sh\n2 set ff=unix\n3 :wq\n执行完后，再来运行脚本./shenniu_publish.sh，此时有如下提示:\n图片\n此刻我们文件是解压状态，因此只需要start命令启动程序即可：\n图片\n到这里shenniu_publish.sh脚本使用就完成了，只要脚本没有提示错误，基本都能启动jar服务；其他restart和stop命令也如此执行就行：\n图片\n可以去研究下shell代码，希望该脚本能给你带来效率和好的学习思路，下面是测试用例git地址，脚本在eureka-server项目中：https://github.com/shenniubuxing3/springcloud-Finchley.SR2")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.cnblogs.com/wangrudong003/p/10502043.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/wangrudong003/p/10502043.html"),n("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);