(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{366:function(t,s,a){"use strict";a.r(s);var e=a(41),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"mysql创建用户与授权用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql创建用户与授权用户"}},[t._v("#")]),t._v(" MySQL创建用户与授权用户")]),t._v(" "),a("blockquote",[a("p",[t._v("MySQL中创建用户与授权的实现方法。")])]),t._v(" "),a("h2",{attrs:{id:"创建用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建用户"}},[t._v("#")]),t._v(" 创建用户")]),t._v(" "),a("p",[t._v("命令:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("CREATE "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'host'")]),t._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'password'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("说明: username - 你将创建的用户名, host - 指定该用户在哪个主机上可以登陆,如果是本地用户可用localhost, 如果想让该用户可以从任意远程主机登陆,可以使用通配符%. password - 该用户的登陆密码,密码可以为空,如果为空则该用户可以不需要密码登陆服务器.")]),t._v(" "),a("p",[t._v("例子:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("CREATE "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dog'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),t._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCREATE "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pig'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'192.168.1.101_'")]),t._v(" IDENDIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCREATE "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pig'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),t._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123456'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCREATE "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pig'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),t._v(" IDENTIFIED BY "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCREATE "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pig'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#授权"}},[t._v("#")]),t._v(" 授权")]),t._v(" "),a("p",[t._v("命令:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("GRANT privileges ON databasename.tablename TO "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'host'")]),t._v("\n")])])]),a("p",[t._v("说明: privileges - 用户的操作权限,如SELECT , INSERT , UPDATE 等(详细列表见该文最后面).如果要授予所的权限则使用ALL.;databasename - 数据库名,tablename-表名,如果要授予该用户对所有数据库和表的相应操作权限则可用"),a("em",[t._v("表示, 如")]),t._v(".*.")]),t._v(" "),a("p",[t._v("例子:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("GRANT SELECT, INSERT ON test.user TO "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pig'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nGRANT ALL ON *.* TO "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pig'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("注意:用以上命令授权的用户不能给其它用户授权,如果想让该用户可以授权,用以下命令:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("GRANT privileges ON databasename.tablename TO "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'host'")]),t._v(" WITH GRANT OPTION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"设置与更改用户密码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置与更改用户密码"}},[t._v("#")]),t._v(" 设置与更改用户密码")]),t._v(" "),a("p",[t._v("命令:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("SET PASSWORD FOR "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'host'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newpassword'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("如果是当前登陆用户用SET PASSWORD "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"newpassword"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("例子:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("SET PASSWORD FOR "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pig'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PASSWORD"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"撤销用户权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#撤销用户权限"}},[t._v("#")]),t._v(" 撤销用户权限")]),t._v(" "),a("p",[t._v("命令:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("REVOKE privilege ON databasename.tablename FROM "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'host'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("说明: privilege, databasename, tablename - 同授权部分.")]),t._v(" "),a("p",[t._v("例子:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("REVOKE SELECT ON *.* FROM "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pig'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("注意: 假如你在给用户'pig'@'%'授权的时候是这样的(或类似的):GRANT SELECT ON test.user TO 'pig'@'%', 则在使用REVOKE SELECT ON "),a("em",[t._v(".")]),t._v(" FROM 'pig'@'%';命令并不能撤销该用户对test数据库中user表的SELECT 操作.相反,如果授权使用的是GRANT SELECT ON "),a("em",[t._v(".")]),t._v(" TO 'pig'@'%';则REVOKE SELECT ON test.user FROM 'pig'@'%';命令也不能撤销该用户对test数据库中user表的Select 权限.")]),t._v(" "),a("p",[t._v("具体信息可以用命令SHOW GRANTS FOR 'pig'@'%'; 查看.")]),t._v(" "),a("h2",{attrs:{id:"删除用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除用户"}},[t._v("#")]),t._v(" 删除用户")]),t._v(" "),a("p",[t._v("命令:")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("DROP "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'username'")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'host'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("附表:在MySQL中的操作权限")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("Tables")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Are")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("Cool")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("col 3 is")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("right-aligned")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1600")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("col 2 is")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("centered")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$12")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("zebra stripes")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("are neat")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("$1")])])])]),t._v(" "),a("p",[t._v("ALTER\tAllows use of ALTER TABLE.\nALTER ROUTINE\tAlters or drops stored routines.\nCREATE\tAllows use of CREATE TABLE.\nCREATE ROUTINE\tCreates stored routines.\nCREATE TEMPORARY TABLE\tAllows use of CREATE TEMPORARY TABLE.\nCREATE USER\tAllows use of CREATE USER, DROP USER, RENAME USER, and REVOKE ALL PRIVILEGES.\nCREATE VIEW\tAllows use of CREATE VIEW.\nDELETE\tAllows use of DELETE.\nDROP\tAllows use of DROP TABLE.\nEXECUTE\tAllows the user to run stored routines.\nFILE\tAllows use of SELECT... INTO OUTFILE and LOAD DATA INFILE.\nINDEX\tAllows use of CREATE INDEX and DROP INDEX.\nINSERT\tAllows use of INSERT.\nLOCK TABLES\tAllows use of LOCK TABLES on tables for which the user also has SELECT privileges.\nPROCESS\tAllows use of SHOW FULL PROCESSLIST.\nRELOAD\tAllows use of FLUSH.\nREPLICATION\tAllows the user to ask where slave or master\nCLIENT\tservers are.\nREPLICATION SLAVE\tNeeded for replication slaves.\nSELECT\tAllows use of SELECT.\nSHOW DATABASES\tAllows use of SHOW DATABASES.\nSHOW VIEW\tAllows use of SHOW CREATE VIEW.\nSHUTDOWN\tAllows use of mysqladmin shutdown.\nSUPER\tAllows use of CHANGE MASTER, KILL, PURGE MASTER LOGS, and SET GLOBAL SQL statements. Allows mysqladmin debug command. Allows one extra connection to be made if maximum connections are reached.\nUPDATE\tAllows use of UPDATE.\nUSAGE\tAllows connection without any specific privileges.")])])}),[],!1,null,null,null);s.default=n.exports}}]);