(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{469:function(s,a,e){"use strict";e.r(a);var l=e(19),t=Object(l.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"shell编程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell编程"}},[s._v("#")]),s._v(" Shell编程")]),s._v(" "),e("h2",{attrs:{id:"概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[s._v("#")]),s._v(" 概述")]),s._v(" "),e("p",[s._v("常用的shell有Bourne shell (sh)、C shell (csh) 和 Korn shell (ksh), 各有优缺点。Bourne shell 是 UNIX 最初使用的 shell，并且在每种 UNIX 上都可以使用, 在 shell 编程方面相当优秀，但在处理与用户的交互方面做得不如其他几种shell。Linux 操作系统缺省的 shell 是Bourne Again shell，它是 Bourne shell 的扩展，简称 Bash，与 Bourne shell 完全向后兼容，并且在Bourne shell 的基础上增加、增强了很多特性。Bash放在/bin/bash中，它有许多特色，可以提供如命令补全、命令编辑和命令历史表等功能，它还包含了很多 C shell 和 Korn shell 中的优点，有灵活和强大的编程接口，同时又有很友好的用户界面。")]),s._v(" "),e("blockquote",[e("p",[s._v("此处学习的为bash shell")])]),s._v(" "),e("h2",{attrs:{id:"shell脚本的实质"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本的实质"}},[s._v("#")]),s._v(" shell脚本的实质")]),s._v(" "),e("ul",[e("li",[s._v("shell脚本语言是解释型语言")]),s._v(" "),e("li",[s._v("shell脚本的实质-shell命令的有序集合")])]),s._v(" "),e("h2",{attrs:{id:"为什么要使用-filename-sh-行shell脚本呢"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么要使用-filename-sh-行shell脚本呢"}},[s._v("#")]),s._v(" 为什么要使用 "),e("code",[s._v("./filename.sh")]),s._v(" 行shell脚本呢？")]),s._v(" "),e("p",[s._v("普通的shell命令会从标准路径中进行查询，可以通过 echo $PATH 来查询，如果从这些标准路径中查询不到命令，那么就认为是错误的，即是提示命令找不到。所以需要使用 ./")]),s._v(" "),e("h2",{attrs:{id:"shell变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell变量"}},[s._v("#")]),s._v(" shell变量")]),s._v(" "),e("p",[s._v("shell允许用户建立变量存储数据，但不支持数据类型(整型、字符、浮点型)，将任何赋给变量的值都解释为一串字符。\n以$开头的字符在shell中会被解释为变量。\n"),e("strong",[s._v("细节问题")]),s._v("：")]),s._v(" "),e("ol",[e("li",[s._v("没有类型")]),s._v(" "),e("li",[s._v('没有空格作为分隔符(与C语言不同，C语言对空格不做任何编译)，即"count = 1"为错误的。赋值的时候等号的两边都没有空格。\ne.g.')])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("count")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$count")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("DATE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'date'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DATE")]),s._v("\n")])])]),e("p",[s._v("shell有以下4种变量：")]),s._v(" "),e("ul",[e("li",[s._v("用户自定义变量")]),s._v(" "),e("li",[s._v("位置变量即命令行参数")]),s._v(" "),e("li",[s._v("预定义变量")]),s._v(" "),e("li",[s._v("环境变量")])]),s._v(" "),e("h3",{attrs:{id:"用户自定义变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户自定义变量"}},[s._v("#")]),s._v(" 用户自定义变量")]),s._v(" "),e("ul",[e("li",[s._v("在shell编程种通常使用全大写变量，方便识别\ne.g.  COUNT=1")]),s._v(" "),e("li",[s._v("变量的调用：在变量前加$\ne.g.  echo $HOME")]),s._v(" "),e("li",[s._v("Linux shell/bash从右向左赋值(变量赋值的时候不用加$，变量调用的时候加$)\ne.g. Y=y\nX=$Y\necho $X\ny")]),s._v(" "),e("li",[s._v("使用unset命令删除变量的赋值\ne.g. Z=hello\necho $Z\nhello\nunset Z\necho $Z\n"),e("img",{attrs:{src:"https://ws1.sinaimg.cn/large/006DGX4tly1fzr0fisserj30ec03pwfp.jpg",alt:""}})])]),s._v(" "),e("h3",{attrs:{id:"位置变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#位置变量"}},[s._v("#")]),s._v(" 位置变量")]),s._v(" "),e("ul",[e("li",[s._v("$0 与键入的明了了行一样，包含脚本文件名")]),s._v(" "),e("li",[s._v("$1,$2,.....$9 分别包含第一个到第九个命令行参数")]),s._v(" "),e("li")]),s._v(" "),e("h3",{attrs:{id:"环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[s._v("#")]),s._v(" 环境变量")]),s._v(" "),e("p",[s._v("显示所有的环境变量的命令: export 或 env。\n常用shell环境变量：")]),s._v(" "),e("ul",[e("li",[s._v("$HOME: /etc/passwd文件种列出的用户主目录")]),s._v(" "),e("li",[s._v("$IFS: Internal Field Separator,默认为空格，Tab及换行符")]),s._v(" "),e("li",[s._v("$PATH: shell默认搜索路径")]),s._v(" "),e("li",[s._v("$PS1,$PS2：默认提示符($)及换行提示符(>)")]),s._v(" "),e("li",[s._v("$TERM: 终端类型，常用的有vt100，ansi，vt200，xterm等。")])]),s._v(" "),e("h2",{attrs:{id:"功能语句"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#功能语句"}},[s._v("#")]),s._v(" 功能语句")]),s._v(" "),e("p",[s._v("shell程序与语句")]),s._v(" "),e("ul",[e("li",[s._v("shell程序由0或多个shell语句构成。shell语句包括三类：说明性语句，功能性语句和结构性语句。")])]),s._v(" "),e("ol",[e("li",[s._v("说明性语句:\n以#开头到该行结束，不被解释执行。")]),s._v(" "),e("li",[s._v("功能性语句：\n任意的shell命令，用户程序或其他的shell程序。")]),s._v(" "),e("li",[s._v("结构性语句:\n条件测试语句、多路分支语句、循环语句、循环控制语句等。")])]),s._v(" "),e("h3",{attrs:{id:"说明性语句-注释行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#说明性语句-注释行"}},[s._v("#")]),s._v(" 说明性语句(注释行)")]),s._v(" "),e("ul",[e("li",[s._v("注释行可以出现在程序中的开始位置，既可以单独占用一行，也可以接在执行语句的后面。以#开始到所在行的行尾部分，都不被解释执行。e.g.")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本程序说明")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\ncommand_1  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#command_1的语句说明")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\ncommand_n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#command_n的语句说明")]),s._v("\n")])])]),e("h3",{attrs:{id:"常用功能性语句-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用功能性语句-命令"}},[s._v("#")]),s._v(" 常用功能性语句(命令)")]),s._v(" "),e("ul",[e("li",[s._v("read从标准输入读取一行，并赋值给后面的变量，其语法为：")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" var\n")])])]),e("p",[s._v("把读入的数据全部赋给var")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" var1 var2 var3\n")])])]),e("p",[s._v("把读入行中的第一个单词(word)赋值给var1，第二个单词赋值给var2，......把其余所有的词赋值给最后一个变量。")]),s._v(" "),e("ul",[e("li",[s._v("如果执行read语句时标准输入无数据，则程序在此停留等等候，直到数据的到来或被终止执行。")])])])}),[],!1,null,null,null);a.default=t.exports}}]);