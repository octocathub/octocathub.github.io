(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{394:function(a,s,e){a.exports=e.p+"assets/img/1.8bb8f1ab.png"},519:function(a,s,e){"use strict";e.r(s);var r=e(13),t=Object(r.a)({},(function(){var a=this,s=a.$createElement,r=a._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"环境变量"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[a._v("#")]),a._v(" 环境变量")]),a._v(" "),r("p",[a._v("Linux系统中，有三种文件 出现的非常频繁，那就是 profile、bash_profile、bashrc 文件。")]),a._v(" "),r("h2",{attrs:{id:"profile"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#profile"}},[a._v("#")]),a._v(" profile")]),a._v(" "),r("h3",{attrs:{id:"作用"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#作用"}},[a._v("#")]),a._v(" 作用")]),a._v(" "),r("p",[a._v("profile，路径：/etc/profile，用于设置系统级的环境变量和启动程序，在这个文件下配置会对所有用户生效。")]),a._v(" "),r("p",[a._v("当用户登录（login）时，文件会被执行，并从/etc/profile.d目录的配置文件中查找shell设置。")]),a._v(" "),r("p",[a._v("在profile中设置环境变量\n一般不建议在/etc/profile文件中添加环境变量，因为在这个文件中添加的设置会对所有用户起作用。")]),a._v(" "),r("p",[a._v("当必须添加时，我们可以按以下方式添加：")]),a._v(" "),r("p",[a._v("如，添加一个 HOST 值为 xx.cn的环境变量：")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("export")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("HOST")]),r("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("xx.cn\n")])])]),r("p",[a._v("添加时，可以在行尾使用;号，也可以不使用。")]),a._v(" "),r("p",[a._v("一个变量名可以对应多个变量值，多个变量值需要使用:进行分隔。")]),a._v(" "),r("p",[a._v("添加环境变量后，需要重新登录才能生效，也可以使用 source 命令强制立即生效：")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("source")]),a._v(" /etc/profile\n")])])]),r("p",[a._v("查看是否生效可以使用 echo 命令：")]),a._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[a._v("$ "),r("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("echo")]),a._v(" "),r("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$HOST")]),a._v("\nxx.cn\n")])])]),r("h2",{attrs:{id:"bashrc"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bashrc"}},[a._v("#")]),a._v(" bashrc")]),a._v(" "),r("p",[a._v("bashrc 文件用于配置函数或别名。bashrc 文件有两种级别：")]),a._v(" "),r("p",[a._v("系统级\n用户级\n系统级\n系统级的位于/etc/bashrc，对所有用户生效。")]),a._v(" "),r("p",[a._v("用户级\n用户级的位于~/.bashrc，仅对当前用户生效。")]),a._v(" "),r("p",[a._v("bashrc 文件只会对指定的 shell 类型起作用，bashrc 只会被 bash shell 调用。")]),a._v(" "),r("h2",{attrs:{id:"bash-profile"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bash-profile"}},[a._v("#")]),a._v(" bash_profile")]),a._v(" "),r("p",[a._v("bash_profile只对单一用户有效，文件存储位于~/.bash_profile，该文件是一个用户级的设置，可以理解为某一个用户的 profile 目录下。")]),a._v(" "),r("p",[a._v("这个文件同样也可以用于配置环境变量和启动程序，但只针对单个用户有效。")]),a._v(" "),r("p",[a._v("和 profile 文件类似，bash_profile 也会在用户登录（login）时生效，也可以用于设置环境变理。")]),a._v(" "),r("p",[a._v("但与 profile 不同，bash_profile 只会对当前用户生效。")]),a._v(" "),r("h2",{attrs:{id:"差异总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#差异总结"}},[a._v("#")]),a._v(" 差异总结")]),a._v(" "),r("p",[a._v("这三种文件类型的差异用一句话表述就是：")]),a._v(" "),r("p",[a._v("/etc/profile，/etc/bashrc 是系统全局环境变量设定；")]),a._v(" "),r("p",[a._v("~/.profile，~/.bashrc用户家目录下的私有环境变量设定。")]),a._v(" "),r("p",[a._v("当登入系统时候获得一个 shell 进程时，其读取环境设定档如下：\n"),r("img",{attrs:{src:e(394),alt:""}})]),a._v(" "),r("ol",[r("li",[a._v("首先读入全局环境变量设定档/etc/profile，然后根据其内容读取额外的设定的文档，如/etc/profile.d和/etc/inputrc；")]),a._v(" "),r("li",[a._v("根据不同使用者帐号，于其家目录内读取~/.bash_profile；")]),a._v(" "),r("li",[a._v("读取失败则会读取~/.bash_login；")]),a._v(" "),r("li",[a._v("再次失败则读取~/.profile（这三个文档设定基本上无差别，仅读取上有优先关系）；")]),a._v(" "),r("li",[a._v("最后，根据用户帐号读取~/.bashrc。\n至于~/.profile与~/.bashrc都具有个性化定制功能，但~/.profile可以设定本用户专有的路径、环境变量等，它只能登入的时候执行一次。")])]),a._v(" "),r("p",[a._v("~/.bashrc也是某用户专有设定文档，可以设定路径、命令别名，每次 shell script 的执行都会使用它一次。")])])}),[],!1,null,null,null);s.default=t.exports}}]);